(this["webpackJsonppixel-mist"]=this["webpackJsonppixel-mist"]||[]).push([[0],[,,,,,,,,,,,,function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return _}));function r(){for(var e=window.screen.width,a=4;a<12&&Math.pow(2,a)<e;)a++;var t=Math.max(8,a-1);return Math.pow(2,t)}function _(e){var a=window.screen.width/1440;return Math.round(e*a)}},,,,,function(e){e.exports=JSON.parse('[{"filename":"warp.jpg","r":"sqrt(abs(x * y)) % (hypot(x-w/2, y-h/2) + 1) % (255 * tan(x ^ y) + 1) % (abs(x - y) + 1) % 256","g":"sqrt(abs(x * y)) % (hypot(x-w/2, y-h/2) + 1) % (255 * tan(x ^ y) + 1) % (abs(x - y) + 1) % 171","b":"sqrt(abs(x * y)) % (hypot(x-w/2, y-h/2) + 1) % (255 * tan(x ^ y) + 1) % (abs(x - y) + 1) % 86","w":1000,"h":1000},{"filename":"disco.jpg","r":"hypot(x, y + x) % 100","g":"hypot(1 - abs(x/w), 1 - abs(y/h))","b":"hypot(x - y, y) % 150","w":1000,"h":1000},{"filename":"hotspot.jpg","r":"hypot(x, y)","g":"(255 * tan(x ^ y) + 1) % 256","b":"(255 * tan(x ^ y) + 1) % 256","w":1000,"h":1000},{"filename":"sierpinskis_trip.jpg","r":"(abs(x) ^ abs(y)) % (abs(x) & abs(y)) % 50","g":"(abs(x) ^ abs(y)) % (abs(x) & abs(y)) % 100","b":"(abs(x) ^ abs(y)) % (abs(x) & abs(y)) % 200","powerOf2Dim":true},{"filename":"spiderweb.jpg","r":"sqrt(abs(x) % abs(y)) * sqrt(abs(y) % abs(x)) % 100","g":"sqrt(abs(x) % abs(y)) * sqrt(abs(y) % abs(x)) % 200","b":"sqrt(abs(x) % abs(y)) * sqrt(abs(y) % abs(x)) % 50","w":1000,"h":1000},{"filename":"cursed_eclipse.jpg","r":"hypot(x, y + 500)","g":"hypot(x, y) % (500 % hypot(x, y))","b":"hypot(x, y - 500)","w":1000,"h":1000},{"filename":"deep_bass.jpg","r":"hypot(x,y)","g":"hypot(x + (28 * sin(x)), y + x) % 100","b":"hypot(x + (28 * cos(x)), y + x) % 110","w":1000,"h":1000},{"filename":"sierpinski.jpg","r":"tanh(x & y)","g":"tanh(x & y)","b":"tanh(x & y)","powerOf2Dim":true},{"filename":"circus.jpg","r":"cos(hypot(x, y) / hypot(w / 2.5, h / 2.5)) * tanh(x + y)","g":"cos(hypot(x, y) / hypot(w / 2.5, h / 2.5)) * tanh(x * y)","b":"cos(hypot(x, y) / hypot(w / 2.5, h / 2.5)) * tanh(x - y)","w":1000,"h":1000},{"filename":"rainbow.jpg","r":"x + y","g":"x * y","b":"x - y","w":1000,"h":1000}]')},,function(e,a,t){},,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExpressionBasedPixelGen}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),react_hook_form__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12),_imageExamples_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),_imageExamples_json__WEBPACK_IMPORTED_MODULE_6___namespace=__webpack_require__.t(17,1),_Common_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19),_Common_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_Common_css__WEBPACK_IMPORTED_MODULE_7__),_ExpressionBasedPixelGen_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48),_ExpressionBasedPixelGen_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_ExpressionBasedPixelGen_css__WEBPACK_IMPORTED_MODULE_8__),_PixelCanvas__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),DEFAULT_SIDE_LENGTH=Math.min(1024,Object(_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__.b)()),DEFAULT_QUERY_PARAMS={r:"(hypot(abs(x), abs(y)) + (abs(x) & abs(y))) / 2",g:"tanh(abs(x) & abs(y))",b:"abs(x) ^ abs(y)",h:DEFAULT_SIDE_LENGTH,w:DEFAULT_SIDE_LENGTH};function getExampleParams(e){var a=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.find(_imageExamples_json__WEBPACK_IMPORTED_MODULE_6__,{filename:e});return a&&(a.w=Math.min(a.w,Object(_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__.a)(a.w)),a.h=Math.min(a.h,Object(_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__.a)(a.h))),a?lodash__WEBPACK_IMPORTED_MODULE_1___default.a.pick(a,["r","g","b","w","h","powerOf2Dim"]):null}function validateExpression(expressionStr){try{var MATH_PROPS_STR=Object.getOwnPropertyNames(Math).join(","),exprFunc=eval("((x, y, w, h,{".concat(MATH_PROPS_STR,"}) => Number(").concat(expressionStr,"))"));return exprFunc(0,0,DEFAULT_SIDE_LENGTH,DEFAULT_SIDE_LENGTH,Math),!0}catch(err){return console.error("Received Validation Error for Expression '".concat(expressionStr,"'"),err),!1}}function ExpressionBasedPixelGen(){console.log("Called ExpressionBasedPixelGen");var e=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.g)(),a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.h)(),t=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_2__.a)(),r=t.register,_=t.handleSubmit,n=t.errors,l=new URLSearchParams(a.search),i=l.get("example")||null,s=i&&getExampleParams(i)||{},o=Object.fromEntries(l.entries()),c=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.defaults(lodash__WEBPACK_IMPORTED_MODULE_1___default.a.cloneDeep(o),s,DEFAULT_QUERY_PARAMS);"true"!==c.powerOf2Dim&&!0!==c.powerOf2Dim||(c.w=Object(_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__.b)(),c.h=Object(_utils_ScreenUtils__WEBPACK_IMPORTED_MODULE_5__.b)(),console.log({queryParamsAfterDefaults:c}),delete c.powerOf2Dim);var u=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.pick(c,Object.keys(DEFAULT_QUERY_PARAMS));if(!lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEqual(u,o))return e.push({pathname:a.pathname,search:new URLSearchParams(u).toString()}),null;var E=c.r,m=c.g,h=c.b,p=c.w,d=c.h;function b(e){var a=e.hasError,t=void 0!==a&&a,r=e.message,_=void 0===r?"Invalid input":r;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{className:"form-error-msg"},t?_:"")}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"container"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PixelCanvas__WEBPACK_IMPORTED_MODULE_9__.a,{width:Number(p),height:Number(d),red:E,green:m,blue:h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{className:"expression-form",autoComplete:"off",autoCapitalize:"off",onSubmit:_((function(t){var r=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.pick(t,Object.keys(DEFAULT_QUERY_PARAMS));lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEmpty(n)&&e.push({pathname:a.pathname,search:new URLSearchParams(r).toString()})}))},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"hidden",autoComplete:"false"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"number",name:"w",min:"1",placeholder:"Width in pixels",className:"form-input",defaultValue:Number(p),ref:r({required:!0})}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"number",name:"h",min:"1",placeholder:"Height in pixels",className:"form-input",defaultValue:Number(d),ref:r({required:!0})}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"input",name:"r",placeholder:"Red Expression",className:"form-input red",defaultValue:E,ref:r({required:!0,validate:validateExpression})}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(b,{hasError:n.r}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"input",name:"g",placeholder:"Green Expression",className:"form-input green",defaultValue:m,ref:r({required:!0,validate:validateExpression})}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(b,{hasError:n.g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"input",name:"b",placeholder:"Blue Expression",className:"form-input blue",defaultValue:h,ref:r({required:!0,validate:validateExpression})}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(b,{hasError:n.b}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",{style:{marginBottom:"15px"}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"submit",value:"Submit"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.b,{to:"/about"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"footer-link"},"About")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.b,{to:"/examples"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"footer-link"},"Examples")))))}},function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var r=t(5),_=t(0),n=t.n(_),l=t(4),i=t.n(l),s=t(30),o=t.n(s),c=(t(50),o()()),u=!1;function E(e){var a=e.width,t=e.height,l=e.red,s=e.green,o=e.blue,E=Object(_.useState)(null),m=Object(r.a)(E,2),h=m[0],p=m[1],d=Object(_.useState)(u),b=Object(r.a)(d,2),f=b[0],P=b[1],x=Object(_.useState)(null),M=Object(r.a)(x,2),O=M[0],y=M[1],D=Object(_.useState)(null),g=Object(r.a)(D,2),w=g[0],I=g[1],T=Object(_.useState)(0),A=Object(r.a)(T,2),R=A[0],U=A[1],B={scale:1024,width:a,height:t,red:l,green:s,blue:o},L=!i.a.isEqual(B,O),v=i.a.isEqual(B,w);Object(_.useEffect)((function(){c.onmessage=function(e){if(i.a.isEqual(e.data,{type:"RPC",method:"ready"}))P(!0),u=!0;else if(e.data.imageSource)p(e.data.imageSource),y(e.data.renderedParams),I(null);else if(e.data.totalProgress){var a=Math.round(100*e.data.totalProgress);U(a)}},f&&L&&!v&&(I(B),c.calculateBase64(B))}));var C=function(){return 100===R?n.a.createElement("p",null,"Finishing Touches..."):n.a.createElement("p",null,"Loading ","".concat(R,"%"),"...")};return i.a.isNil(h)||!f||L&&v?n.a.createElement(C,null):n.a.createElement("img",{width:"".concat(a,"px"),height:"".concat(t,"px"),src:h,className:"main-canvas"})}},function(e,a,t){var r=t(49),_=["clamp","linearInterpolate","PixelGeneratorResult","PixelGenerator","calculateBase64"];e.exports=function(){var e=new Worker(t.p+"8136daaf7b9b6e1dd8ef.worker.js",{name:"[hash].worker.js"});return r(e,_),e}},,,function(e,a,t){e.exports=t(53)},,,,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),_=t.n(r),n=t(25),l=t.n(n),i=t(16),s=t(7),o=(t(40),t(10)),c=t(31);t(42),t(19),t(43);function u(){return _.a.createElement("h1",{className:"pixel-mist-title"},_.a.createElement(s.b,{to:"/"},"PIXEL MIST"))}var E=t(28),m=t(12);t(51);function h(){return _.a.createElement("div",null,_.a.createElement("div",{className:"about-container"},_.a.createElement("h1",null,"What is this?"),_.a.createElement("p",null,"Pixel Mist is a tool that gives you a new way to visualize mathematical expressions. It's kind of like a pixel shader but a lot simpler and more approachable. You can use it to create custom gradients, generate interesting patterns, and get a better understanding of mathematics."),_.a.createElement("h1",null,"How does it work?"),_.a.createElement("p",null,"I'm gonna assume you know about the ",_.a.createElement("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/RGB_color_model"},"RGB color model"),".",_.a.createElement("br",null),_.a.createElement("br",null),"You are given five form fields to fill out:",_.a.createElement("ul",null,_.a.createElement("li",null,"Width"),_.a.createElement("li",null,"Height"),_.a.createElement("li",null,"Red Expression"),_.a.createElement("li",null,"Green Expression"),_.a.createElement("li",null,"Blue Expression")),"Width & height are used to specify dimensions of the generated image in number of pixels.",_.a.createElement("br",null),_.a.createElement("br",null),"The RGB expressions are used to dictate what the color of each individual pixel should be at each XY coordinate in the image. This uses a cartesian coordinate system where the origin (0,0) is at the center of the image. Both the X & Y axis have a maximum absolute value of 1024.",_.a.createElement("br",null),_.a.createElement("br",null),"You're really specifying ",_.a.createElement("code",null,"R(x, y), G(x, y), B(x, y)"),". Those values are calculated for the entire dimensions of the image.",_.a.createElement("br",null),_.a.createElement("br",null),"The min & max values generated by your expression are mapped to 0 and 255 respectively with every other value in between being linearly interpolated. The outputs for the individual R, G, & B channels are then coalesced to create the resulting image.",_.a.createElement("br",null),_.a.createElement("br",null),"The expressions you write can do anything you can do in vanilla Javascript. That means you have full access to the ",_.a.createElement("a",{target:"_blank",href:"https://www.w3schools.com/js/js_math.asp"},"Math")," object. For convenience, you can access all ",_.a.createElement("code",null,"Math")," properties without having to write the ",_.a.createElement("code",null,"Math.")," prefix. For example, instead of writing ",_.a.createElement("code",null,"Math.sin(x)"),", just write ",_.a.createElement("code",null,"sin(x)"),". Also, in addition to being able to use the dynamic variables x & y which represent a pixel's coordinate position, you can also reference static variables w & h which represent the width & height of the output image.",_.a.createElement("br",null),_.a.createElement("br",null),"P.S. All the computation is happening in the browser on ",_.a.createElement("i",null,"your computer"),". There's no backend for this website at all because I'm not paying for that \ud83d\ude1b"),_.a.createElement("h1",null,"Who made it?"),_.a.createElement("p",null,_.a.createElement("a",{target:"_blank",href:"https://github.com/sourabhdesai/"},"I did")),_.a.createElement("h1",null,"Where can I report a bug or submit a feature request?"),_.a.createElement("p",null,_.a.createElement("a",{target:"_blank",href:"https://github.com/sourabhdesai/PixelMist/issues/new"},"Here")),_.a.createElement("h1",null,"Why does this exist?"),_.a.createElement("p",null,"It was the summer after freshman year of my Computer Science undergrad and the world of programming was consuming me. I was playing around with a homework assignment I had gotten during the school year that involved editing images pixel-by-pixel. I decided to see what would happen if I generated an entire image from code by specifying mathematical equations for each RGB color channel.",_.a.createElement("br",null),_.a.createElement("br",null),"I quickly realized that I could make images with fascinating patterns using this method. For example, I found that using the expression Math.tanh(x & y) would result in a ",_.a.createElement("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle"},"Sierpi\u0144ski triangle"),"pattern (",_.a.createElement(s.b,{to:"/PixelMist/?r=Math.tanh%28x+%26+y%29&g=Math.tanh%28x+%26+y%29&b=Math.tanh%28x+%26+y%29&h=".concat(Object(m.a)(500),"&w=").concat(Object(m.a)(500))},"try for yourself"),"). I could utilize my mathematical knowledge to adjust images to match my aesthetic preferences.",_.a.createElement("br",null),_.a.createElement("br",null),"Besides being a way to keep my coding skills sharp over the summer, I found myself spending hours just creating new interesting patterns with this tool. I'm pretty certain I'm not the only one that would find this interesting to play with.",_.a.createElement("br",null),_.a.createElement("br",null),"Fast forward 8 years and the world is undergoing a global pandemic which leaves me with a lot of free time being at home in quarantine. Enough free time to dust off the old side project from all those years ago and turn it into a website so everyone can be as captivated by it as I was.")))}t(52);var p=t(17);function d(e){var a=e.filename,t=new URLSearchParams({example:a});return _.a.createElement("a",{href:"/PixelMist?".concat(t.toString()),key:a},_.a.createElement("img",{alt:a,id:a,className:"example-img",src:"/PixelMist/images/examples/".concat(a)}))}function b(){return _.a.createElement("div",null,_.a.createElement("p",null,"A few examples to get you started",_.a.createElement("br",null),"Click image to open in editor"),p.map(d))}var f=function(){return function(e){i.a.set({page:e.pathname}),i.a.pageview(e.pathname)}(Object(o.h)()),_.a.createElement("div",{className:"App"},_.a.createElement(u,null),_.a.createElement(o.d,null,_.a.createElement(o.b,{exact:!0,path:"/PixelMist"},_.a.createElement(E.a,null)),_.a.createElement(o.b,{exact:!0,path:"/PixelMist/about"},_.a.createElement(h,null)),_.a.createElement(o.b,{exact:!0,path:"/PixelMist/examples"},_.a.createElement(b,null)),_.a.createElement(o.a,{to:"/PixelMist"})),_.a.createElement("div",{className:"footer"},_.a.createElement(s.b,{to:"/PixelMist/about"},_.a.createElement("h2",{className:"footer-link"},"About")),_.a.createElement(s.b,{to:"/PixelMist/examples"},_.a.createElement("h2",{className:"footer-link"},"Examples")),_.a.createElement("div",{className:"github-btn"},_.a.createElement(c.a,{href:"https://github.com/sourabhdesai/PixelMist","data-color-scheme":"no-preference: dark; light: dark; dark: dark;","data-icon":"octicon-star","aria-label":"Star sourabhdesai/PixelMist on GitHub"},"Star"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.initialize("UA-68475136-3"),l.a.render(_.a.createElement(_.a.StrictMode,null,_.a.createElement(s.a,null,_.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.61f60f45.chunk.js.map